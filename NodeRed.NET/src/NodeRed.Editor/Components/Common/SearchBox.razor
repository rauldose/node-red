@* Syncfusion Blazor TextBox Component Wrapper for Search *@
@* Replaces custom searchBox with Syncfusion TextBox *@

<SfTextBox @bind-Value="@Value"
           Placeholder="@Placeholder"
           CssClass="@($"red-ui-searchBox {Class}")"
           ShowClearButton="true"
           Input="@OnValueChanged">
    <TextBoxPrefixIcon>fa fa-search</TextBoxPrefixIcon>
</SfTextBox>

@code {
    [Parameter] public string Value { get; set; } = "";
    [Parameter] public EventCallback<string> ValueChanged { get; set; }
    [Parameter] public string Placeholder { get; set; } = "Search...";
    [Parameter] public string? Class { get; set; }
    [Parameter] public EventCallback<string> OnSearch { get; set; }

    private async Task OnValueChanged(InputEventArgs args)
    {
        Value = args.Value;
        await ValueChanged.InvokeAsync(Value);
        await OnSearch.InvokeAsync(Value);
    }

    public void Clear()
    {
        Value = "";
        StateHasChanged();
    }
}

